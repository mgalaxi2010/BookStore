<?xml version="1.0" encoding="UTF-8"?>
<testsuites>
  <testsuite name="" tests="42" assertions="199" errors="0" warnings="0" failures="6" skipped="0" time="5.977731">
    <testsuite name="Feature" tests="42" assertions="199" errors="0" warnings="0" failures="6" skipped="0" time="5.977731">
      <testsuite name="Tests\Feature\BooksListTest" file="E:\prj\vandar\tests\Feature\BookListTest.php" tests="7" assertions="96" errors="0" warnings="0" failures="3" skipped="0" time="2.286928">
        <testcase name="testResponseStructure" class="Tests\Feature\BooksListTest" classname="Tests.Feature.BooksListTest" file="E:\prj\vandar\tests\Feature\BookListTest.php" line="14" assertions="76" time="1.348305"/>
        <testcase name="testListWithoutFilters" class="Tests\Feature\BooksListTest" classname="Tests.Feature.BooksListTest" file="E:\prj\vandar\tests\Feature\BookListTest.php" line="72" assertions="2" time="0.196855">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Feature\BooksListTest::testListWithoutFilters
Unable to find JSON: 
  
  
  
  [{
      "data": [
          {
              "id": 1,
              "isbn": "9780757206627",
              "title": "Est dolor rem earum et quis labore quo.",
              "description": "Non sed est et sint omnis earum. Labore illo corrupti expedita et. Nihil dolores vel maxime et. Et nostrum delectus et asperiores accusamus.",
              "authors": [
                  {
                      "id": 1,
                      "name": "Abigayle Hoppe MD",
                      "surname": "Schaden"
                  }
              ],
              "review": {
                  "avg": 5,
                  "count": 3
              }
          },
          {
              "id": 2,
              "isbn": "9798791486325",
              "title": "Non voluptatum quasi eum aut.",
              "description": "Autem rerum provident qui ut. Dolorem cupiditate ut laudantium dolor impedit voluptas amet. Quia perferendis expedita quae quia ipsum.",
              "authors": [
                  {
                      "id": 2,
                      "name": "Mr. Heber Wolff",
                      "surname": "Schumm"
                  }
              ],
              "review": {
                  "avg": 2,
                  "count": 3
              }
          },
          {
              "id": 3,
              "isbn": "9790543893177",
              "title": "Officiis quasi nostrum perferendis exercitationem.",
              "description": "Et quod et dolorem excepturi occaecati ut neque. Dolor qui suscipit tenetur dolorem.",
              "authors": [
                  {
                      "id": 3,
                      "name": "Dr. Gail Walsh MD",
                      "surname": "Pfeffer"
                  }
              ],
              "review": {
                  "avg": 8,
                  "count": 3
              }
          },
          {
              "id": 4,
              "isbn": "9781481071727",
              "title": "Doloribus sint at ipsa rerum corporis dignissimos.",
              "description": "Rerum ea laborum et amet facere. Ut qui maxime ex porro voluptas. Magni magni laborum est quos impedit corrupti velit. Saepe est rem id delectus vel natus ut. Temporibus est sit deserunt.",
              "authors": [
                  {
                      "id": 4,
                      "name": "Ryder Dickinson PhD",
                      "surname": "Hoppe"
                  }
              ],
              "review": {
                  "avg": 7,
                  "count": 3
              }
          },
          {
              "id": 5,
              "isbn": "9787503697180",
              "title": "Fugit eaque sit fugiat odio fugiat tempore quo.",
              "description": "Ullam earum ipsam debitis. Sapiente quia aperiam ut dolores. Aut consequatur dolorum autem quae.",
              "authors": [
                  {
                      "id": 5,
                      "name": "Dock Ferry",
                      "surname": "Hagenes"
                  }
              ],
              "review": {
                  "avg": 8,
                  "count": 3
              }
          }
      ]
  }]
  
  
  
  within response JSON:
  
  
  
  [{
      "data": [
          {
              "id": 1,
              "isbn": "9780757206627",
              "title": "Est dolor rem earum et quis labore quo.",
              "description": "Non sed est et sint omnis earum. Labore illo corrupti expedita et. Nihil dolores vel maxime et. Et nostrum delectus et asperiores accusamus.",
              "authors": [
                  {
                      "id": 1,
                      "name": "Abigayle Hoppe MD",
                      "surname": "Schaden"
                  }
              ],
              "review": {
                  "avg": "5.33333333333333",
                  "count": 3
              }
          },
          {
              "id": 2,
              "isbn": "9798791486325",
              "title": "Non voluptatum quasi eum aut.",
              "description": "Autem rerum provident qui ut. Dolorem cupiditate ut laudantium dolor impedit voluptas amet. Quia perferendis expedita quae quia ipsum.",
              "authors": [
                  {
                      "id": 2,
                      "name": "Mr. Heber Wolff",
                      "surname": "Schumm"
                  }
              ],
              "review": {
                  "avg": "2.0",
                  "count": 3
              }
          },
          {
              "id": 3,
              "isbn": "9790543893177",
              "title": "Officiis quasi nostrum perferendis exercitationem.",
              "description": "Et quod et dolorem excepturi occaecati ut neque. Dolor qui suscipit tenetur dolorem.",
              "authors": [
                  {
                      "id": 3,
                      "name": "Dr. Gail Walsh MD",
                      "surname": "Pfeffer"
                  }
              ],
              "review": {
                  "avg": "8.0",
                  "count": 3
              }
          },
          {
              "id": 4,
              "isbn": "9781481071727",
              "title": "Doloribus sint at ipsa rerum corporis dignissimos.",
              "description": "Rerum ea laborum et amet facere. Ut qui maxime ex porro voluptas. Magni magni laborum est quos impedit corrupti velit. Saepe est rem id delectus vel natus ut. Temporibus est sit deserunt.",
              "authors": [
                  {
                      "id": 4,
                      "name": "Ryder Dickinson PhD",
                      "surname": "Hoppe"
                  }
              ],
              "review": {
                  "avg": "6.66666666666667",
                  "count": 3
              }
          },
          {
              "id": 5,
              "isbn": "9787503697180",
              "title": "Fugit eaque sit fugiat odio fugiat tempore quo.",
              "description": "Ullam earum ipsam debitis. Sapiente quia aperiam ut dolores. Aut consequatur dolorum autem quae.",
              "authors": [
                  {
                      "id": 5,
                      "name": "Dock Ferry",
                      "surname": "Hagenes"
                  }
              ],
              "review": {
                  "avg": "8.33333333333333",
                  "count": 3
              }
          }
      ],
      "links": {
          "first": "http://localhost/api/books?page=1",
          "last": "http://localhost/api/books?page=1",
          "prev": null,
          "next": null
      },
      "meta": {
          "current_page": 1,
          "from": 1,
          "last_page": 1,
          "links": [
              {
                  "url": null,
                  "label": "&amp;laquo; Previous",
                  "active": false
              },
              {
                  "url": "http://localhost/api/books?page=1",
                  "label": "1",
                  "active": true
              },
              {
                  "url": null,
                  "label": "Next &amp;raquo;",
                  "active": false
              }
          ],
          "path": "http://localhost/api/books",
          "per_page": 15,
          "to": 5,
          "total": 5
      }
  }].
  
  
  
  
  Failed asserting that an array has the subset Array &amp;0 (
      'data' =&gt; Array &amp;1 (
          0 =&gt; Array &amp;2 (
              'id' =&gt; 1
              'isbn' =&gt; '9780757206627'
              'title' =&gt; 'Est dolor rem earum et quis labore quo.'
              'description' =&gt; 'Non sed est et sint omnis earum. Labore illo corrupti expedita et. Nihil dolores vel maxime et. Et nostrum delectus et asperiores accusamus.'
              'authors' =&gt; Array &amp;3 (
                  0 =&gt; Array &amp;4 (
                      'id' =&gt; 1
                      'name' =&gt; 'Abigayle Hoppe MD'
                      'surname' =&gt; 'Schaden'
                  )
              )
              'review' =&gt; Array &amp;5 (
                  'avg' =&gt; 5
                  'count' =&gt; 3
              )
          )
          1 =&gt; Array &amp;6 (
              'id' =&gt; 2
              'isbn' =&gt; '9798791486325'
              'title' =&gt; 'Non voluptatum quasi eum aut.'
              'description' =&gt; 'Autem rerum provident qui ut. Dolorem cupiditate ut laudantium dolor impedit voluptas amet. Quia perferendis expedita quae quia ipsum.'
              'authors' =&gt; Array &amp;7 (
                  0 =&gt; Array &amp;8 (
                      'id' =&gt; 2
                      'name' =&gt; 'Mr. Heber Wolff'
                      'surname' =&gt; 'Schumm'
                  )
              )
              'review' =&gt; Array &amp;9 (
                  'avg' =&gt; 2
                  'count' =&gt; 3
              )
          )
          2 =&gt; Array &amp;10 (
              'id' =&gt; 3
              'isbn' =&gt; '9790543893177'
              'title' =&gt; 'Officiis quasi nostrum perferendis exercitationem.'
              'description' =&gt; 'Et quod et dolorem excepturi occaecati ut neque. Dolor qui suscipit tenetur dolorem.'
              'authors' =&gt; Array &amp;11 (
                  0 =&gt; Array &amp;12 (
                      'id' =&gt; 3
                      'name' =&gt; 'Dr. Gail Walsh MD'
                      'surname' =&gt; 'Pfeffer'
                  )
              )
              'review' =&gt; Array &amp;13 (
                  'avg' =&gt; 8
                  'count' =&gt; 3
              )
          )
          3 =&gt; Array &amp;14 (
              'id' =&gt; 4
              'isbn' =&gt; '9781481071727'
              'title' =&gt; 'Doloribus sint at ipsa rerum corporis dignissimos.'
              'description' =&gt; 'Rerum ea laborum et amet facere. Ut qui maxime ex porro voluptas. Magni magni laborum est quos impedit corrupti velit. Saepe est rem id delectus vel natus ut. Temporibus est sit deserunt.'
              'authors' =&gt; Array &amp;15 (
                  0 =&gt; Array &amp;16 (
                      'id' =&gt; 4
                      'name' =&gt; 'Ryder Dickinson PhD'
                      'surname' =&gt; 'Hoppe'
                  )
              )
              'review' =&gt; Array &amp;17 (
                  'avg' =&gt; 7
                  'count' =&gt; 3
              )
          )
          4 =&gt; Array &amp;18 (
              'id' =&gt; 5
              'isbn' =&gt; '9787503697180'
              'title' =&gt; 'Fugit eaque sit fugiat odio fugiat tempore quo.'
              'description' =&gt; 'Ullam earum ipsam debitis. Sapiente quia aperiam ut dolores. Aut consequatur dolorum autem quae.'
              'authors' =&gt; Array &amp;19 (
                  0 =&gt; Array &amp;20 (
                      'id' =&gt; 5
                      'name' =&gt; 'Dock Ferry'
                      'surname' =&gt; 'Hagenes'
                  )
              )
              'review' =&gt; Array &amp;21 (
                  'avg' =&gt; 8
                  'count' =&gt; 3
              )
          )
      )
  ).
--- Expected
+++ Actual
@@ @@
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 5,
+        'avg' =&gt; '5.33333333333333',
         'count' =&gt; 3,
       ),
     ),
@@ @@
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 2,
+        'avg' =&gt; '2.0',
         'count' =&gt; 3,
       ),
     ),
@@ @@
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 8,
+        'avg' =&gt; '8.0',
         'count' =&gt; 3,
       ),
     ),
@@ @@
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 7,
+        'avg' =&gt; '6.66666666666667',
         'count' =&gt; 3,
       ),
     ),
@@ @@
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 8,
+        'avg' =&gt; '8.33333333333333',
         'count' =&gt; 3,
       ),
     ),

E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\Constraints\ArraySubset.php:85
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\Assert.php:40
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:273
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:695
E:\prj\vandar\tests\Feature\BookListTest.php:209
E:\prj\vandar\tests\Feature\BookListTest.php:89</failure>
        </testcase>
        <testcase name="testTitleFilter" class="Tests\Feature\BooksListTest" classname="Tests.Feature.BooksListTest" file="E:\prj\vandar\tests\Feature\BookListTest.php" line="92" assertions="4" time="0.107241"/>
        <testcase name="testAuthorsFilter" class="Tests\Feature\BooksListTest" classname="Tests.Feature.BooksListTest" file="E:\prj\vandar\tests\Feature\BookListTest.php" line="109" assertions="6" time="0.142044"/>
        <testcase name="testTitleSort" class="Tests\Feature\BooksListTest" classname="Tests.Feature.BooksListTest" file="E:\prj\vandar\tests\Feature\BookListTest.php" line="139" assertions="2" time="0.096006">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Feature\BooksListTest::testTitleSort
Unable to find JSON: 
  
  
  
  [{
      "data": [
          {
              "id": 3,
              "isbn": "9780725144630",
              "title": "Advanced Python",
              "description": "Saepe rerum est eum libero. Dolorum assumenda exercitationem amet quia illum dicta. Aliquam repellat facere id error alias. Et voluptate nesciunt consectetur.",
              "authors": [],
              "review": {
                  "avg": 0,
                  "count": 0
              }
          },
          {
              "id": 2,
              "isbn": "9784274083532",
              "title": "Javascript for dummies",
              "description": "Optio at beatae est minima id perspiciatis consequatur adipisci. Libero rem explicabo consequatur eaque. Non nulla voluptatem delectus et animi sapiente corporis.",
              "authors": [],
              "review": {
                  "avg": 0,
                  "count": 0
              }
          },
          {
              "id": 1,
              "isbn": "9781469872650",
              "title": "PHP for begginers",
              "description": "Non qui sed vero ut incidunt esse optio. Aspernatur amet dolor fugit eligendi quia nam. Vero expedita velit eveniet sint explicabo sit earum. Voluptatem et assumenda eveniet eos ea culpa.",
              "authors": [],
              "review": {
                  "avg": 0,
                  "count": 0
              }
          }
      ]
  }]
  
  
  
  within response JSON:
  
  
  
  [{
      "data": [
          {
              "id": 1,
              "isbn": "9781469872650",
              "title": "PHP for begginers",
              "description": "Non qui sed vero ut incidunt esse optio. Aspernatur amet dolor fugit eligendi quia nam. Vero expedita velit eveniet sint explicabo sit earum. Voluptatem et assumenda eveniet eos ea culpa.",
              "authors": [],
              "review": {
                  "avg": null,
                  "count": 0
              }
          },
          {
              "id": 2,
              "isbn": "9784274083532",
              "title": "Javascript for dummies",
              "description": "Optio at beatae est minima id perspiciatis consequatur adipisci. Libero rem explicabo consequatur eaque. Non nulla voluptatem delectus et animi sapiente corporis.",
              "authors": [],
              "review": {
                  "avg": null,
                  "count": 0
              }
          },
          {
              "id": 3,
              "isbn": "9780725144630",
              "title": "Advanced Python",
              "description": "Saepe rerum est eum libero. Dolorum assumenda exercitationem amet quia illum dicta. Aliquam repellat facere id error alias. Et voluptate nesciunt consectetur.",
              "authors": [],
              "review": {
                  "avg": null,
                  "count": 0
              }
          }
      ],
      "links": {
          "first": "http://localhost/api/books?page=1",
          "last": "http://localhost/api/books?page=1",
          "prev": null,
          "next": null
      },
      "meta": {
          "current_page": 1,
          "from": 1,
          "last_page": 1,
          "links": [
              {
                  "url": null,
                  "label": "&amp;laquo; Previous",
                  "active": false
              },
              {
                  "url": "http://localhost/api/books?page=1",
                  "label": "1",
                  "active": true
              },
              {
                  "url": null,
                  "label": "Next &amp;raquo;",
                  "active": false
              }
          ],
          "path": "http://localhost/api/books",
          "per_page": 15,
          "to": 3,
          "total": 3
      }
  }].
  
  
  
  
  Failed asserting that an array has the subset Array &amp;0 (
      'data' =&gt; Array &amp;1 (
          0 =&gt; Array &amp;2 (
              'id' =&gt; 3
              'isbn' =&gt; '9780725144630'
              'title' =&gt; 'Advanced Python'
              'description' =&gt; 'Saepe rerum est eum libero. Dolorum assumenda exercitationem amet quia illum dicta. Aliquam repellat facere id error alias. Et voluptate nesciunt consectetur.'
              'authors' =&gt; Array &amp;3 ()
              'review' =&gt; Array &amp;4 (
                  'avg' =&gt; 0
                  'count' =&gt; 0
              )
          )
          1 =&gt; Array &amp;5 (
              'id' =&gt; 2
              'isbn' =&gt; '9784274083532'
              'title' =&gt; 'Javascript for dummies'
              'description' =&gt; 'Optio at beatae est minima id perspiciatis consequatur adipisci. Libero rem explicabo consequatur eaque. Non nulla voluptatem delectus et animi sapiente corporis.'
              'authors' =&gt; Array &amp;6 ()
              'review' =&gt; Array &amp;7 (
                  'avg' =&gt; 0
                  'count' =&gt; 0
              )
          )
          2 =&gt; Array &amp;8 (
              'id' =&gt; 1
              'isbn' =&gt; '9781469872650'
              'title' =&gt; 'PHP for begginers'
              'description' =&gt; 'Non qui sed vero ut incidunt esse optio. Aspernatur amet dolor fugit eligendi quia nam. Vero expedita velit eveniet sint explicabo sit earum. Voluptatem et assumenda eveniet eos ea culpa.'
              'authors' =&gt; Array &amp;9 ()
              'review' =&gt; Array &amp;10 (
                  'avg' =&gt; 0
                  'count' =&gt; 0
              )
          )
      )
  ).
--- Expected
+++ Actual
@@ @@
   array (
     0 =&gt; 
     array (
-      'id' =&gt; 3,
-      'isbn' =&gt; '9780725144630',
-      'title' =&gt; 'Advanced Python',
-      'description' =&gt; 'Saepe rerum est eum libero. Dolorum assumenda exercitationem amet quia illum dicta. Aliquam repellat facere id error alias. Et voluptate nesciunt consectetur.',
+      'id' =&gt; 1,
+      'isbn' =&gt; '9781469872650',
+      'title' =&gt; 'PHP for begginers',
+      'description' =&gt; 'Non qui sed vero ut incidunt esse optio. Aspernatur amet dolor fugit eligendi quia nam. Vero expedita velit eveniet sint explicabo sit earum. Voluptatem et assumenda eveniet eos ea culpa.',
       'authors' =&gt; 
       array (
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 0,
+        'avg' =&gt; NULL,
         'count' =&gt; 0,
       ),
     ),
@@ @@
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 0,
+        'avg' =&gt; NULL,
         'count' =&gt; 0,
       ),
     ),
     2 =&gt; 
     array (
-      'id' =&gt; 1,
-      'isbn' =&gt; '9781469872650',
-      'title' =&gt; 'PHP for begginers',
-      'description' =&gt; 'Non qui sed vero ut incidunt esse optio. Aspernatur amet dolor fugit eligendi quia nam. Vero expedita velit eveniet sint explicabo sit earum. Voluptatem et assumenda eveniet eos ea culpa.',
+      'id' =&gt; 3,
+      'isbn' =&gt; '9780725144630',
+      'title' =&gt; 'Advanced Python',
+      'description' =&gt; 'Saepe rerum est eum libero. Dolorum assumenda exercitationem amet quia illum dicta. Aliquam repellat facere id error alias. Et voluptate nesciunt consectetur.',
       'authors' =&gt; 
       array (
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 0,
+        'avg' =&gt; NULL,
         'count' =&gt; 0,
       ),
     ),

E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\Constraints\ArraySubset.php:85
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\Assert.php:40
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:273
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:695
E:\prj\vandar\tests\Feature\BookListTest.php:209
E:\prj\vandar\tests\Feature\BookListTest.php:149</failure>
        </testcase>
        <testcase name="testAvgReviewSort" class="Tests\Feature\BooksListTest" classname="Tests.Feature.BooksListTest" file="E:\prj\vandar\tests\Feature\BookListTest.php" line="157" assertions="2" time="0.114850">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Feature\BooksListTest::testAvgReviewSort
Unable to find JSON: 
  
  
  
  [{
      "data": [
          {
              "id": 3,
              "isbn": "9795707361752",
              "title": "Advanced Python",
              "description": "A facere tempore quis maiores. Non tempore eum eveniet similique et sunt. Voluptate quos vitae eaque id quae dolore. Omnis ut est repudiandae placeat.",
              "authors": [],
              "review": {
                  "avg": 0,
                  "count": 0
              }
          },
          {
              "id": 1,
              "isbn": "9795574000761",
              "title": "PHP for begginers",
              "description": "Et enim omnis impedit animi. Minus consequatur sunt quos eius. Et ea et ut aut repellendus. Rem qui nulla impedit explicabo. Soluta laboriosam magnam est aut quis corrupti.",
              "authors": [],
              "review": {
                  "avg": 3,
                  "count": 2
              }
          },
          {
              "id": 2,
              "isbn": "9780215719683",
              "title": "Javascript for dummies",
              "description": "Neque velit quo sapiente voluptas. A asperiores non autem non temporibus dolores illum magni. Ut iste sit repellat delectus recusandae consequuntur.",
              "authors": [],
              "review": {
                  "avg": 6,
                  "count": 2
              }
          }
      ]
  }]
  
  
  
  within response JSON:
  
  
  
  [{
      "data": [
          {
              "id": 1,
              "isbn": "9795574000761",
              "title": "PHP for begginers",
              "description": "Et enim omnis impedit animi. Minus consequatur sunt quos eius. Et ea et ut aut repellendus. Rem qui nulla impedit explicabo. Soluta laboriosam magnam est aut quis corrupti.",
              "authors": [],
              "review": {
                  "avg": "3.0",
                  "count": 2
              }
          },
          {
              "id": 2,
              "isbn": "9780215719683",
              "title": "Javascript for dummies",
              "description": "Neque velit quo sapiente voluptas. A asperiores non autem non temporibus dolores illum magni. Ut iste sit repellat delectus recusandae consequuntur.",
              "authors": [],
              "review": {
                  "avg": "6.0",
                  "count": 2
              }
          },
          {
              "id": 3,
              "isbn": "9795707361752",
              "title": "Advanced Python",
              "description": "A facere tempore quis maiores. Non tempore eum eveniet similique et sunt. Voluptate quos vitae eaque id quae dolore. Omnis ut est repudiandae placeat.",
              "authors": [],
              "review": {
                  "avg": null,
                  "count": 0
              }
          }
      ],
      "links": {
          "first": "http://localhost/api/books?page=1",
          "last": "http://localhost/api/books?page=1",
          "prev": null,
          "next": null
      },
      "meta": {
          "current_page": 1,
          "from": 1,
          "last_page": 1,
          "links": [
              {
                  "url": null,
                  "label": "&amp;laquo; Previous",
                  "active": false
              },
              {
                  "url": "http://localhost/api/books?page=1",
                  "label": "1",
                  "active": true
              },
              {
                  "url": null,
                  "label": "Next &amp;raquo;",
                  "active": false
              }
          ],
          "path": "http://localhost/api/books",
          "per_page": 15,
          "to": 3,
          "total": 3
      }
  }].
  
  
  
  
  Failed asserting that an array has the subset Array &amp;0 (
      'data' =&gt; Array &amp;1 (
          0 =&gt; Array &amp;2 (
              'id' =&gt; 3
              'isbn' =&gt; '9795707361752'
              'title' =&gt; 'Advanced Python'
              'description' =&gt; 'A facere tempore quis maiores. Non tempore eum eveniet similique et sunt. Voluptate quos vitae eaque id quae dolore. Omnis ut est repudiandae placeat.'
              'authors' =&gt; Array &amp;3 ()
              'review' =&gt; Array &amp;4 (
                  'avg' =&gt; 0
                  'count' =&gt; 0
              )
          )
          1 =&gt; Array &amp;5 (
              'id' =&gt; 1
              'isbn' =&gt; '9795574000761'
              'title' =&gt; 'PHP for begginers'
              'description' =&gt; 'Et enim omnis impedit animi. Minus consequatur sunt quos eius. Et ea et ut aut repellendus. Rem qui nulla impedit explicabo. Soluta laboriosam magnam est aut quis corrupti.'
              'authors' =&gt; Array &amp;6 ()
              'review' =&gt; Array &amp;7 (
                  'avg' =&gt; 3
                  'count' =&gt; 2
              )
          )
          2 =&gt; Array &amp;8 (
              'id' =&gt; 2
              'isbn' =&gt; '9780215719683'
              'title' =&gt; 'Javascript for dummies'
              'description' =&gt; 'Neque velit quo sapiente voluptas. A asperiores non autem non temporibus dolores illum magni. Ut iste sit repellat delectus recusandae consequuntur.'
              'authors' =&gt; Array &amp;9 ()
              'review' =&gt; Array &amp;10 (
                  'avg' =&gt; 6
                  'count' =&gt; 2
              )
          )
      )
  ).
--- Expected
+++ Actual
@@ @@
   array (
     0 =&gt; 
     array (
-      'id' =&gt; 3,
-      'isbn' =&gt; '9795707361752',
-      'title' =&gt; 'Advanced Python',
-      'description' =&gt; 'A facere tempore quis maiores. Non tempore eum eveniet similique et sunt. Voluptate quos vitae eaque id quae dolore. Omnis ut est repudiandae placeat.',
+      'id' =&gt; 1,
+      'isbn' =&gt; '9795574000761',
+      'title' =&gt; 'PHP for begginers',
+      'description' =&gt; 'Et enim omnis impedit animi. Minus consequatur sunt quos eius. Et ea et ut aut repellendus. Rem qui nulla impedit explicabo. Soluta laboriosam magnam est aut quis corrupti.',
       'authors' =&gt; 
       array (
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 0,
-        'count' =&gt; 0,
+        'avg' =&gt; '3.0',
+        'count' =&gt; 2,
       ),
     ),
     1 =&gt; 
     array (
-      'id' =&gt; 1,
-      'isbn' =&gt; '9795574000761',
-      'title' =&gt; 'PHP for begginers',
-      'description' =&gt; 'Et enim omnis impedit animi. Minus consequatur sunt quos eius. Et ea et ut aut repellendus. Rem qui nulla impedit explicabo. Soluta laboriosam magnam est aut quis corrupti.',
+      'id' =&gt; 2,
+      'isbn' =&gt; '9780215719683',
+      'title' =&gt; 'Javascript for dummies',
+      'description' =&gt; 'Neque velit quo sapiente voluptas. A asperiores non autem non temporibus dolores illum magni. Ut iste sit repellat delectus recusandae consequuntur.',
       'authors' =&gt; 
       array (
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 3,
+        'avg' =&gt; '6.0',
         'count' =&gt; 2,
       ),
     ),
     2 =&gt; 
     array (
-      'id' =&gt; 2,
-      'isbn' =&gt; '9780215719683',
-      'title' =&gt; 'Javascript for dummies',
-      'description' =&gt; 'Neque velit quo sapiente voluptas. A asperiores non autem non temporibus dolores illum magni. Ut iste sit repellat delectus recusandae consequuntur.',
+      'id' =&gt; 3,
+      'isbn' =&gt; '9795707361752',
+      'title' =&gt; 'Advanced Python',
+      'description' =&gt; 'A facere tempore quis maiores. Non tempore eum eveniet similique et sunt. Voluptate quos vitae eaque id quae dolore. Omnis ut est repudiandae placeat.',
       'authors' =&gt; 
       array (
       ),
       'review' =&gt; 
       array (
-        'avg' =&gt; 6,
-        'count' =&gt; 2,
+        'avg' =&gt; NULL,
+        'count' =&gt; 0,
       ),
     ),
   ),

E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\Constraints\ArraySubset.php:85
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\Assert.php:40
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:273
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:695
E:\prj\vandar\tests\Feature\BookListTest.php:209
E:\prj\vandar\tests\Feature\BookListTest.php:181</failure>
        </testcase>
        <testcase name="testPagination" class="Tests\Feature\BooksListTest" classname="Tests.Feature.BooksListTest" file="E:\prj\vandar\tests\Feature\BookListTest.php" line="189" assertions="4" time="0.281625"/>
      </testsuite>
      <testsuite name="Tests\Feature\BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" tests="24" assertions="69" errors="0" warnings="0" failures="3" skipped="0" time="2.615781">
        <testcase name="testDenyGuestAccess" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="13" assertions="1" time="0.099555"/>
        <testcase name="testDenyNonAdminUserAccess" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="27" assertions="1" time="0.093662">
          <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Feature\BookPostTest::testDenyNonAdminUserAccess
Expected response status code [403] but received 401.
  Failed asserting that 403 is identical to 401.

E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:177
E:\prj\vandar\tests\Feature\BookPostTest.php:41</failure>
        </testcase>
        <testcase name="testSuccessfulPost" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="44" assertions="6" time="0.528562"/>
        <testsuite name="Tests\Feature\BookPostTest::testValidation" tests="21" assertions="61" errors="0" warnings="0" failures="2" skipped="0" time="1.894002">
          <testcase name="testValidation with data set #0" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.176960"/>
          <testcase name="testValidation with data set #1" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.081653"/>
          <testcase name="testValidation with data set #2" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.083002"/>
          <testcase name="testValidation with data set #3" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.083988"/>
          <testcase name="testValidation with data set #4" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.081519"/>
          <testcase name="testValidation with data set #5" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.089584"/>
          <testcase name="testValidation with data set #6" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.084678"/>
          <testcase name="testValidation with data set #7" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.085125"/>
          <testcase name="testValidation with data set #8" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.084847"/>
          <testcase name="testValidation with data set #9" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.088060"/>
          <testcase name="testValidation with data set #10" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.099368"/>
          <testcase name="testValidation with data set #11" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.082099"/>
          <testcase name="testValidation with data set #12" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.085934"/>
          <testcase name="testValidation with data set #13" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.086480"/>
          <testcase name="testValidation with data set #14" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.082432"/>
          <testcase name="testValidation with data set #15" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.086443"/>
          <testcase name="testValidation with data set #16" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="1" time="0.094790">
            <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Feature\BookPostTest::testValidation with data set #16 (array(array()), 'authors')
Expected response status code [422] but received 201.
  Failed asserting that 422 is identical to 201.

E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:177
E:\prj\vandar\tests\Feature\BookPostTest.php:91</failure>
          </testcase>
          <testcase name="testValidation with data set #17" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.081944"/>
          <testcase name="testValidation with data set #18" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.085987">
            <failure type="PHPUnit\Framework\ExpectationFailedException">Tests\Feature\BookPostTest::testValidation with data set #18 (array(array(999999)), 'authors.0')
Failed to find a validation error in the response for key: 'authors.0'
  
  
  
  Response has the following JSON validation errors:
  
  
  
  {
      "authors": [
          "The selected authors is invalid."
      ]
  }
  
  
  Failed asserting that an array has the key 'authors.0'.

E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:887
E:\prj\vandar\vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:839
E:\prj\vandar\tests\Feature\BookPostTest.php:93</failure>
          </testcase>
          <testcase name="testValidation with data set #19" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.083278"/>
          <testcase name="testValidation with data set #20" class="Tests\Feature\BookPostTest" classname="Tests.Feature.BookPostTest" file="E:\prj\vandar\tests\Feature\BookPostTest.php" line="72" assertions="3" time="0.085832"/>
        </testsuite>
      </testsuite>
      <testsuite name="Tests\Feature\BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" tests="11" assertions="34" errors="0" warnings="0" failures="0" skipped="0" time="1.075022">
        <testcase name="testDenyGuestAccess" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="14" assertions="1" time="0.129596"/>
        <testcase name="testSuccessfulPost" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="26" assertions="6" time="0.189019"/>
        <testsuite name="Tests\Feature\BookReviewTest::testValidation" tests="9" assertions="27" errors="0" warnings="0" failures="0" skipped="0" time="0.756407">
          <testcase name="testValidation with data set #0" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.088039"/>
          <testcase name="testValidation with data set #1" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.090763"/>
          <testcase name="testValidation with data set #2" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.085874"/>
          <testcase name="testValidation with data set #3" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.084747"/>
          <testcase name="testValidation with data set #4" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.081437"/>
          <testcase name="testValidation with data set #5" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.082733"/>
          <testcase name="testValidation with data set #6" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.079831"/>
          <testcase name="testValidation with data set #7" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.082261"/>
          <testcase name="testValidation with data set #8" class="Tests\Feature\BookReviewTest" classname="Tests.Feature.BookReviewTest" file="E:\prj\vandar\tests\Feature\BookReviewTest.php" line="64" assertions="3" time="0.080724"/>
        </testsuite>
      </testsuite>
    </testsuite>
  </testsuite>
</testsuites>
